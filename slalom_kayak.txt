Le graphe est un graphe dont chaque sommet représente une case de la grille. Un sommet A est relié par un arc à un sommet B si la case correspondant au sommet B est atteignable depuis la case correspondant au sommet A. Les arcs entrants dans un sommet qui représente une case "porte" ont pour valeur 1, les autres ont pour valeur 0. Il n'y a pas de cycle car le graphe prend en compte le courant, et donc on en peut pas aller à contre courant. L'algorithme utilisé est une variant de l'algorithme de Bellman-Ford pour le plus long chemin.